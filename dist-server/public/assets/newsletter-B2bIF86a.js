import{r as h,j as e}from"./index-BKzr11kV.js";import{A as F}from"./AdminLayout-BfuA9DVc.js";import{F as S,D as k,E as A,n as L,o as E,p as T}from"./index-Cvn0jIvb.js";import{n as $}from"./admin-Cr9GqJAp.js";const M=()=>{const[l]=h.useState($),[x,N]=h.useState(""),[a,f]=h.useState(1),[c,g]=h.useState("all"),m=10,n=l.filter(t=>{const r=t.email.toLowerCase().includes(x.toLowerCase())||t.name&&t.name.toLowerCase().includes(x.toLowerCase())||t.source.toLowerCase().includes(x.toLowerCase()),s=c==="all"||c==="active"&&t.active||c==="inactive"&&!t.active;return r&&s}),p=a*m,b=p-m,j=n.slice(b,p),o=Math.ceil(n.length/m),u=t=>f(t),v=t=>new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),w=t=>{console.log(`Cambiar estado del suscriptor ${t}`)},C=t=>{console.log(`Eliminar suscriptor ${t}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Newsletter"}),e.jsx("div",{className:"flex space-x-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar suscriptores...",value:x,onChange:t=>N(t.target.value),className:"w-64 pl-10 pr-4 py-2 bg-[#121217] border border-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00CCFF] focus:border-transparent text-white"}),e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Filtrar por estado:"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg text-sm ${c==="all"?"bg-gradient-to-r from-[#00CCFF] to-[#9933FF] text-white":"bg-[#1a1a23] text-gray-400 hover:text-white"}`,children:"Todos"}),e.jsx("button",{onClick:()=>g("active"),className:`px-4 py-2 rounded-lg text-sm ${c==="active"?"bg-gradient-to-r from-[#00CCFF] to-[#9933FF] text-white":"bg-[#1a1a23] text-gray-400 hover:text-white"}`,children:"Activos"}),e.jsx("button",{onClick:()=>g("inactive"),className:`px-4 py-2 rounded-lg text-sm ${c==="inactive"?"bg-gradient-to-r from-[#00CCFF] to-[#9933FF] text-white":"bg-[#1a1a23] text-gray-400 hover:text-white"}`,children:"Inactivos"})]})]}),e.jsxs("div",{className:"bg-[#121217] rounded-xl border border-gray-800 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#1a1a23]",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Fuente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-800",children:[j.map(t=>e.jsxs("tr",{className:"hover:bg-[#1a1a23] transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:t.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:t.name||"â€”"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:t.source}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:v(t.createdAt.toString())}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.active?"bg-green-900/20 text-green-400":"bg-red-900/20 text-red-400"}`,children:t.active?"Activo":"Inactivo"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>w(t.id),className:`p-1 rounded ${t.active?"text-green-500 hover:text-gray-400":"text-gray-500 hover:text-green-500"} hover:bg-[#252530] transition-colors`,title:t.active?"Desactivar":"Activar",children:t.active?e.jsx(k,{size:18}):e.jsx(A,{size:18})}),e.jsx("button",{onClick:()=>C(t.id),className:"p-1 rounded text-gray-400 hover:text-red-500 hover:bg-[#252530] transition-colors",title:"Eliminar",children:e.jsx(L,{})})]})})]},t.id)),j.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-400",children:"No se encontraron suscriptores"})})]})]})}),n.length>m&&e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t border-gray-800",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Mostrando ",b+1," - ",Math.min(p,n.length)," de ",n.length," suscriptores"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>u(Math.max(1,a-1)),disabled:a===1,className:"p-2 rounded bg-[#1a1a23] text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(E,{})}),Array.from({length:Math.min(5,o)}).map((t,r)=>{let s;return o<=5||a<=3?s=r+1:a>=o-2?s=o-4+r:s=a-2+r,e.jsx("button",{onClick:()=>u(s),className:`w-8 h-8 rounded ${a===s?"bg-[#00CCFF] text-white":"bg-[#1a1a23] text-gray-400 hover:text-white"}`,children:s},s)}),e.jsx("button",{onClick:()=>u(Math.min(o,a+1)),disabled:a===o,className:"p-2 rounded bg-[#1a1a23] text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(T,{})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-[#121217] rounded-xl border border-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total de suscriptores"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:l.length})]}),e.jsxs("div",{className:"bg-[#121217] rounded-xl border border-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Suscriptores activos"}),e.jsx("p",{className:"text-3xl font-bold text-green-400",children:l.filter(t=>t.active).length}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[Math.round(l.filter(t=>t.active).length/l.length*100),"% del total"]})]}),e.jsxs("div",{className:"bg-[#121217] rounded-xl border border-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Origen principal"}),e.jsx("p",{className:"text-3xl font-bold text-[#00CCFF]",children:(()=>{const r=l.map(i=>i.source).reduce((i,d)=>(i[d]=(i[d]||0)+1,i),{});let s="",y=0;return Object.entries(r).forEach(([i,d])=>{d>y&&(s=i,y=d)}),s})()})]})]})]})},I=()=>e.jsx(F,{children:e.jsx(M,{})});export{I as default};

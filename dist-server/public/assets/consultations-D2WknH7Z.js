import{r as d,j as e}from"./index-BKzr11kV.js";import{A as k}from"./AdminLayout-BfuA9DVc.js";import{F as M,l as S,m as L,n as P,o as A,p as D}from"./index-Cvn0jIvb.js";import{a as E}from"./admin-Cr9GqJAp.js";const T=()=>{const[b]=d.useState(E),[c,N]=d.useState(""),[a,f]=d.useState(1),[t,m]=d.useState(null),[w,p]=d.useState(!1),o=10,n=b.filter(s=>s.name.toLowerCase().includes(c.toLowerCase())||s.email.toLowerCase().includes(c.toLowerCase())||s.business.toLowerCase().includes(c.toLowerCase())||s.projectType.toLowerCase().includes(c.toLowerCase())),x=a*o,g=x-o,j=n.slice(g,x),i=Math.ceil(n.length/o),h=s=>f(s),v=s=>new Date(s).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),u=s=>{console.log(`Marcar como procesada la consulta ${s}`)},C=s=>{console.log(`Eliminar la consulta ${s}`)},F=s=>{m(s),p(!0)},y=()=>{p(!1),m(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Consultas"}),e.jsx("div",{className:"flex space-x-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar consultas...",value:c,onChange:s=>N(s.target.value),className:"w-64 pl-10 pr-4 py-2 bg-[#121217] border border-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00CCFF] focus:border-transparent text-white"}),e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})})]}),e.jsxs("div",{className:"bg-[#121217] rounded-xl border border-gray-800 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#1a1a23]",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Negocio"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Proyecto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Presupuesto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-800",children:[j.map(s=>e.jsxs("tr",{className:"hover:bg-[#1a1a23] transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[e.jsx("div",{className:"font-medium text-white",children:s.name}),e.jsx("div",{className:"text-gray-400 text-xs",children:s.email})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:s.business}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:s.projectType}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:s.budget}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.processed?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:s.processed?"Procesado":"Pendiente"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>F(s),className:"p-1 rounded text-gray-400 hover:text-white hover:bg-[#252530] transition-colors",title:"Ver detalles",children:e.jsx(S,{})}),!s.processed&&e.jsx("button",{onClick:()=>u(s.id),className:"p-1 rounded text-gray-400 hover:text-green-500 hover:bg-[#252530] transition-colors",title:"Marcar como procesado",children:e.jsx(L,{})}),e.jsx("button",{onClick:()=>C(s.id),className:"p-1 rounded text-gray-400 hover:text-red-500 hover:bg-[#252530] transition-colors",title:"Eliminar",children:e.jsx(P,{})})]})})]},s.id)),j.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-400",children:"No se encontraron consultas"})})]})]})}),n.length>o&&e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t border-gray-800",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Mostrando ",g+1," - ",Math.min(x,n.length)," de ",n.length," consultas"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>h(Math.max(1,a-1)),disabled:a===1,className:"p-2 rounded bg-[#1a1a23] text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(A,{})}),Array.from({length:Math.min(5,i)}).map((s,r)=>{let l;return i<=5||a<=3?l=r+1:a>=i-2?l=i-4+r:l=a-2+r,e.jsx("button",{onClick:()=>h(l),className:`w-8 h-8 rounded ${a===l?"bg-[#00CCFF] text-white":"bg-[#1a1a23] text-gray-400 hover:text-white"}`,children:l},l)}),e.jsx("button",{onClick:()=>h(Math.min(i,a+1)),disabled:a===i,className:"p-2 rounded bg-[#1a1a23] text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(D,{})})]})]})]}),w&&t&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-[#121217] rounded-xl border border-gray-800 shadow-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Detalles de la consulta"}),e.jsx("button",{onClick:y,className:"p-1 rounded-full hover:bg-[#1a1a23] text-gray-400 hover:text-white transition-colors",children:"✕"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Nombre"}),e.jsx("p",{className:"text-white",children:t.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Email"}),e.jsx("p",{className:"text-white",children:t.email})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Teléfono"}),e.jsx("p",{className:"text-white",children:t.phone})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Fecha"}),e.jsx("p",{className:"text-white",children:v(t.createdAt.toString())})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Negocio"}),e.jsx("p",{className:"text-white",children:t.business})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Tipo de proyecto"}),e.jsx("p",{className:"text-white",children:t.projectType})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Presupuesto"}),e.jsx("p",{className:"text-white",children:t.budget})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Plazo"}),e.jsx("p",{className:"text-white",children:t.deadline})]})]}),t.serviceDetails&&t.serviceDetails.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-2",children:"Servicios solicitados"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.serviceDetails.map((s,r)=>e.jsx("span",{className:"px-3 py-1 bg-[#1a1a23] rounded-full text-sm text-gray-300",children:s},r))})]}),t.sections&&t.sections.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-2",children:"Secciones solicitadas"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.sections.map((s,r)=>e.jsx("span",{className:"px-3 py-1 bg-[#1a1a23] rounded-full text-sm text-gray-300",children:s},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Mensaje"}),e.jsx("div",{className:"bg-[#1a1a23] rounded-lg p-4 text-gray-300",children:t.message})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-3",children:[!t.processed&&e.jsx("button",{onClick:()=>u(t.id),className:"px-4 py-2 bg-[#1a1a23] border border-gray-700 text-white rounded-lg hover:bg-[#252530] transition-colors",children:"Marcar como procesado"}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-gradient-to-r from-[#00CCFF] to-[#9933FF] text-white rounded-lg hover:shadow-lg hover:shadow-[#00CCFF]/20 transition-shadow",children:"Cerrar"})]})]})})]})},B=()=>e.jsx(k,{children:e.jsx(T,{})});export{B as default};

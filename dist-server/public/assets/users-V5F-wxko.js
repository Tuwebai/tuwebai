import{r as n,j as e}from"./index-BKzr11kV.js";import{A}from"./AdminLayout-BfuA9DVc.js";import{F as E,z as L,A as V,B as M,C as R,n as $,o as P,p as D}from"./index-Cvn0jIvb.js";import{u as O}from"./admin-Cr9GqJAp.js";const T=()=>{const[y]=n.useState(O),[c,N]=n.useState(""),[r,w]=n.useState(1),[l,m]=n.useState("all"),[i,g]=n.useState(null),[v,p]=n.useState(!1),x=10,d=y.filter(t=>{const s=t.username.toLowerCase().includes(c.toLowerCase())||t.email.toLowerCase().includes(c.toLowerCase())||t.fullName.toLowerCase().includes(c.toLowerCase()),a=l==="all"||l==="admin"&&t.role==="admin"||l==="user"&&t.role==="user";return s&&a}),h=r*x,f=h-x,b=d.slice(f,h),o=Math.ceil(d.length/x),u=t=>w(t),C=t=>t?new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"—",F=t=>{console.log(`Verificar usuario ${t}`)},k=t=>{console.log(`Eliminar usuario ${t}`)},U=t=>{g(t),p(!0)},j=()=>{p(!1),g(null)},S=t=>{console.log(`Restablecer contraseña del usuario ${t}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Usuarios"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:c,onChange:t=>N(t.target.value),className:"w-64 pl-10 pr-4 py-2 bg-[#121217] border border-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00CCFF] focus:border-transparent text-white"}),e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),e.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-[#00CCFF] to-[#9933FF] rounded-lg text-white hover:shadow-lg hover:shadow-[#00CCFF]/20 transition-shadow",children:"Añadir usuario"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Filtrar por rol:"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-lg text-sm ${l==="all"?"bg-gradient-to-r from-[#00CCFF] to-[#9933FF] text-white":"bg-[#1a1a23] text-gray-400 hover:text-white"}`,children:"Todos"}),e.jsx("button",{onClick:()=>m("admin"),className:`px-4 py-2 rounded-lg text-sm ${l==="admin"?"bg-gradient-to-r from-[#00CCFF] to-[#9933FF] text-white":"bg-[#1a1a23] text-gray-400 hover:text-white"}`,children:"Administradores"}),e.jsx("button",{onClick:()=>m("user"),className:`px-4 py-2 rounded-lg text-sm ${l==="user"?"bg-gradient-to-r from-[#00CCFF] to-[#9933FF] text-white":"bg-[#1a1a23] text-gray-400 hover:text-white"}`,children:"Usuarios"})]})]}),e.jsxs("div",{className:"bg-[#121217] rounded-xl border border-gray-800 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#1a1a23]",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Último acceso"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-800",children:[b.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-[#1a1a23] transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:t.avatar?e.jsx("img",{src:t.avatar,alt:t.fullName,className:"h-10 w-10 rounded-full"}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-[#1a1a23] flex items-center justify-center text-gray-400",children:e.jsx(L,{})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:t.fullName}),e.jsxs("div",{className:"text-sm text-gray-400",children:["@",t.username]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:t.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.role==="admin"?"bg-purple-900/20 text-purple-400":"bg-blue-900/20 text-blue-400"}`,children:t.role==="admin"?"Administrador":"Usuario"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:C((s=t.lastLogin)==null?void 0:s.toString())}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.isVerified?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:t.isVerified?"Verificado":"Pendiente"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>U(t),className:"p-1 rounded text-gray-400 hover:text-white hover:bg-[#252530] transition-colors",title:"Editar",children:e.jsx(V,{})}),!t.isVerified&&e.jsx("button",{onClick:()=>F(t.id),className:"p-1 rounded text-gray-400 hover:text-green-500 hover:bg-[#252530] transition-colors",title:"Verificar",children:e.jsx(M,{})}),e.jsx("button",{onClick:()=>S(t.id),className:"p-1 rounded text-gray-400 hover:text-[#00CCFF] hover:bg-[#252530] transition-colors",title:"Restablecer contraseña",children:e.jsx(R,{})}),e.jsx("button",{onClick:()=>k(t.id),className:"p-1 rounded text-gray-400 hover:text-red-500 hover:bg-[#252530] transition-colors",title:"Eliminar",children:e.jsx($,{})})]})})]},t.id)}),b.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-400",children:"No se encontraron usuarios"})})]})]})}),d.length>x&&e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t border-gray-800",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Mostrando ",f+1," - ",Math.min(h,d.length)," de ",d.length," usuarios"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>u(Math.max(1,r-1)),disabled:r===1,className:"p-2 rounded bg-[#1a1a23] text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(P,{})}),Array.from({length:Math.min(5,o)}).map((t,s)=>{let a;return o<=5||r<=3?a=s+1:r>=o-2?a=o-4+s:a=r-2+s,e.jsx("button",{onClick:()=>u(a),className:`w-8 h-8 rounded ${r===a?"bg-[#00CCFF] text-white":"bg-[#1a1a23] text-gray-400 hover:text-white"}`,children:a},a)}),e.jsx("button",{onClick:()=>u(Math.min(o,r+1)),disabled:r===o,className:"p-2 rounded bg-[#1a1a23] text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(D,{})})]})]})]}),v&&i&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-[#121217] rounded-xl border border-gray-800 shadow-lg max-w-2xl w-full",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Editar usuario"}),e.jsx("button",{onClick:j,className:"p-1 rounded-full hover:bg-[#1a1a23] text-gray-400 hover:text-white transition-colors",children:"✕"})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nombre completo"}),e.jsx("input",{type:"text",defaultValue:i.fullName,className:"w-full px-4 py-2 bg-[#1a1a23] border border-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00CCFF] focus:border-transparent text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nombre de usuario"}),e.jsx("input",{type:"text",defaultValue:i.username,className:"w-full px-4 py-2 bg-[#1a1a23] border border-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00CCFF] focus:border-transparent text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),e.jsx("input",{type:"email",defaultValue:i.email,className:"w-full px-4 py-2 bg-[#1a1a23] border border-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00CCFF] focus:border-transparent text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Rol"}),e.jsxs("select",{defaultValue:i.role,className:"w-full px-4 py-2 bg-[#1a1a23] border border-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00CCFF] focus:border-transparent text-white",children:[e.jsx("option",{value:"user",children:"Usuario"}),e.jsx("option",{value:"admin",children:"Administrador"})]})]})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("input",{type:"checkbox",id:"verified",defaultChecked:i.isVerified,className:"rounded bg-[#1a1a23] border-gray-800 text-[#00CCFF] focus:ring-[#00CCFF] focus:ring-opacity-25"}),e.jsx("label",{htmlFor:"verified",className:"ml-2 text-sm text-gray-300",children:"Usuario verificado"})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-3",children:[e.jsx("button",{onClick:j,className:"px-4 py-2 bg-[#1a1a23] border border-gray-700 text-white rounded-lg hover:bg-[#252530] transition-colors",children:"Cancelar"}),e.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-[#00CCFF] to-[#9933FF] text-white rounded-lg hover:shadow-lg hover:shadow-[#00CCFF]/20 transition-shadow",children:"Guardar cambios"})]})]})})]})},K=()=>e.jsx(A,{children:e.jsx(T,{})});export{K as default};
